#!perl

use strict;
use warnings;
use lib 'lib';

use Config::General;

BEGIN {
	my @MyAppConf = glob( '*.conf' );
	die "Which of @MyAppConf is the configuration file?"
				unless @MyAppConf == 1;
	my %config = Config::General->new($MyAppConf[0])->getall;
	$::name = $config{name};
	require "$::name.pm"; $::name->import;
	require "$::name/Schema.pm"; $::name->import;
}

no strict qw/subs refs/;
my $connect_info = "${::name}::Model::DB"->config->{connect_info};
# my $connect_info = [ 'dbi:SQLite:db/demo','','' ];
my $schema = "${::name}::Schema"->connect( @$connect_info );
use strict;

my @stopwords;
push @stopwords,  $_ for <<STOP =~ m/^.*$/gm;
a
able
about
above
according
accordingly
across
actually
ad
adj
af
after
afterwards
again
against
ago
al
all
allow
allows
almost
alone
along
already
also
alsoalthough
although
always
among
amongst
amoungst
amount
and
another
any
anybody
anyhow
anyone
anything
anyway
anyways
anywhere
anywhereapart
apart
appear
appreciate
appropriate
ar
are
area
areas
aren
around
arpa
aside
ask
asked
asking
asks
associated
at
available
away
awfully
b
back
backed
backing
backs
bd
became
because
become
becomes
becoming
been
before
beforehand
began
begin
beginning
behind
being
beings
believe
below
belowbesides
beside
besides
best
better
between
beyond
bg
bi
big
bill
billion
bm
both
bottom
brief
but
buy
bw
by
c
call
came
can
cannot
cant
case
cases
certain
certainly
cg
changes
clear
clearly
click
co
com
come
comes
computer
con
concerning
consequently
consider
considering
contain
containing
contains
copy
corresponding
could
couldn
couldnt
course
cry
cu
currently
d
deep
definitely
describe
described
despite
detail
did
didn
differ
different
differently
does
doesn
doing
don
done
donedown
down
downed
downing
downs
downwards
due
during
e
each
early
edu
eg
eight
eighty
either
eleven
else
elsewhere
empty
end
ended
ending
ends
enough
entirely
es
especially
etc
even
evenly
ever
every
everybody
everybodyeveryone
everyone
everything
everywhere
exactly
example
except
f
face
faces
fact
facts
far
felt
few
fifteen
fifth
fifty
fify
fill
find
finds
fire
first
five
fk
followed
following
follows
for
former
formerly
forth
forty
found
four
free
from
front
full
fully
further
furthered
furthering
furthermore
furthers
gave
gd
general
generally
get
gets
getting
gg
give
given
gives
gmt
goes
going
gone
good
goods
got
gotten
gov
great
greater
greatest
greetings
group
grouped
grouping
groups
had
happens
hardly
has
hasn
hasnt
have
haven
having
having
he
hello
help
hence
her
here
hereafter
hereby
herein
hereupon
hers
herself
high
higher
highest
him
himself
his
hither
hm
home
homepage
hopefully
how
howbeit
however
htm
html
http
hundred
i
i.e.
ignored
immediate
important
inasmuch
inc
inc.
indeed
indicate
indicated
indicates
information
inner
insofar
instead
int
interest
interested
interesting
interests
into
inward
inwardis
is
it
its
itself
join
jp
just
k
keep
keeps
kept
kind
km
knew
know
known
knows
large
largely
last
lately
later
latest
latter
latterly
lc
least
left
length
less
lest
let
lets
like
liked
likely
little
ll
long
longer
longest
look
looking
looks
ls
ltd
made
mainly
make
makes
making
man
many
may
maybe
mean
meantime
meanwhile
member
members
men
merely
might
mil
mill
million
mine
miss
more
moreover
most
mostly
move
mrs
much
must
mustmyself
my
myself
name
namely
near
nearly
necessary
need
needed
needing
needs
neither
net
never
nevertheless
new
newer
newest
next
nine
ninety
no
nobody
non
none
nonetheless
noone
nor
normally
not
nothing
novel
now
nowhere
number
numbers
obviously
off
often
okay
old
older
oldest
once
one
ones
only
ononly
onto
open
opened
opening
opens
or
order
ordered
ordering
orders
org
other
others
otherwise
ought
our
ours
ourselves
out
outside
over
overall
own
p
page
part
parted
particular
particularly
parting
parts
per
perhaps
place
placed
places
please
plus
pluspp
point
pointed
pointing
points
possible
present
presented
presenting
presents
presumably
probably
problem
problems
provides
put
puts
putting
q
que
quite
r
rather
re
really
reasonably
recent
recently
regarding
regardless
regards
relatively
reserved
respectively
right
room
rooms
said
same
saw
say
saying
says
second
secondly
seconds
see
seeing
seem
seemed
seeming
seems
seen
sees
self
selves
sensible
sent
serious
seriously
seven
seventy
several
shall
she
should
shouldn
show
showed
showing
shows
side
sides
since
sincere
site
six
sixty
small
smaller
smallest
some
somebody
somehow
someone
something
sometime
sometimes
somewhat
somewhere
soon
sorry
sosome
specified
specify
specifying
stand
state
states
still
stop
sub
such
sup
sure
system
take
taken
taking
tell
ten
tends
test
text
th
than
thank
thanks
thanx
that
thats
the
their
theirs
them
themselves
themselvesthen
then
thence
there
thereafter
thereby
therefore
therein
theres
thereupon
these
they
thick
thin
thing
things
think
thinks
third
thirty
this
thorough
thoroughly
those
though
thought
thoughts
thousand
three
through
throughout
thru
thus
till
today
together
too
took
top
totogether
toward
towards
tried
tries
trillion
truly
try
trying
turn
turned
turning
turns
twelve
twenty
twice
two
under
unfortunately
unless
unlike
unlikely
until
unto
upon
use
used
useful
uses
using
usually
uucp
value
various
very
via
viz
want
wanted
wanting
wants
was
wasn
way
ways
web
webpage
website
welcome
well
wells
went
were
weren
what
whatever
whatwhatever
when
whence
whenever
where
whereafter
whereas
whereby
wherein
whereupon
wherever
whether
which
while
whither
who
whoever
whole
whom
whomever
whose
why
width
will
willing
wish
with
within
without
withwithin
won
wonder
work
worked
working
works
would
wouldn
www
year
years
yes
yet
you
young
younger
youngest
your
yours
yourself
yourselves
zero
zr
STOP

my @rows = [ qw(id word) ];
push @rows, map { [ $_, $stopwords[$_] ] } 0..$#stopwords;
uptodatepopulate( 'Stopword', \@rows );

sub uptodatepopulate
{
	my $class = $schema->resultset(shift);
	my $entries = shift;
	my $columns = shift @$entries;
	foreach my $row ( @$entries )
	{
		my %hash;
		@hash{@$columns} = @$row;
		$class->update_or_create(\%hash);
	}
}


=head1 NAME

stopwords.pl - Set up stopwords db

=head1 SYNOPSIS

perl stopwords.pl

=head1 DESCRIPTION

'CREATE TABLE stopwords (id INT, word VARCHAR(50, primary key (id))'

=head1 AUTHOR

Sebastian Riedel, C<sri@oook.de>

=head1 COPYRIGHT


This library is free software, you can redistribute it and/or modify
it under the same terms as Perl itself.

=cut

